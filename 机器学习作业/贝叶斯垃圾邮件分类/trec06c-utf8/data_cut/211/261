Received: from liumeiti.org ([210.82.108.7])
	by spam-gw.ccert.edu.cn (MIMEDefang) with ESMTP id j8T4hbqq002864
	for <tu@ccert.edu.cn>; Sat, 1 Oct 2005 03:48:44 +0800 (CST)
Message-ID: <200509291243.j8T4hbqq002864@spam-gw.ccert.edu.cn>
From: =?GB2312?B?wfXQ287k?= <su@liumeiti.org>
Subject: =?gb2312?B?0sa2r8H3w73M5by8yvU=?=
To: tu@ccert.edu.cn
Content-Type: text/html;charset="GB2312"
Content-Transfer-Encoding: 8bit
Date: Sat, 1 Oct 2005 03:59:56 +0800
X-Priority: 2
X-Mailer: Foxmail 4.2 [cn]


联系方式 ：
QQ : 7773229
MSN ： ivrsms @ hotmail . com
Email :   ivrsms @ 163 . com
地址 ： 北京市 海淀区 定慧寺 。

详情请 见 ：   http : / / news . csdn . net / news / newstopic / 22 / 22065 . shtml


移动 流媒体 技术 及其 应用 发展 方向
2005.06 . 09     来自 ： CSDN     刘 雄武

一 、   现状 分析

在 手机 增值 业务 市场 ， 短信 、 彩信 、 彩 e 等 虽然 有 了 交互 、 24 小时 不间断 等 不同于 传统媒体 的 特点 ， 但 传输 的 主要 是 静态 为主 的 图像 和 文字 内容 ， 影响 了 其 媒体 作用 的 充分发挥 。 随着 最终用户 需求 的 提升 ， 如何 更好 地 融合 声音 、 文字 、 图像 ， 支持 多媒体 功能 ， 既 发挥 短信 方便 、 快捷 的 优点 ， 又 可以 弥补 短信 形式 单调 的 不足 ， 真正 使 移动用户 " 振聋发聩 " ， 进入 一个 有声有色 、 逼真 形象 的 美丽 世界 成为 移动 运营商 普遍 关心 的 话题 。
流媒体 （ Streaming   Media ） 的 出现 改变 了 这种 状况 。 它 不 需要 下载 整个 文件 就 可以 在 向 播放器 传输 的 过程 中 一边 下载 一边 播放 ， 实现 了 在 网上 点播 或 观看 电影 、 电视 的 梦想 。 现在 ， 以 " 流 " 的 形式 进行 数字 媒体 的 传送 ， 使 人们 一定 的 带宽 环境 下 就 可以 在线 欣赏 到 连续不断 的 高品质 音频 和 视频 节目 。 在 互联网 大 发展 的 时代 ， 流媒体 技术 的 产生 和 发展 必然 会 给 我们 的 日常生活 和 工作 带来 深远 的 影响 。 专家 预言 ， 流媒体 将 成为 未来 因特网 上 应用 的 主流 ， 实现 沟通 和 传播 的 多向性 使 传播 不再 受 时间 和 空间 的 限制 。
所谓 流媒体 是 指 用户 通过 网络 或者 特定 数字 信道 边 下载 边 播放 多媒体 数据 的 一种 工作 方式 。 流媒体 应用 的 一个 最大 的 好处 是 用户 不 需要 花费 很 长时间 将 多媒体 数据 全部 下载 到 本地 后 才能 播放 ， 而仅 需 将 起始 几秒 的 数据 先 下载 到 本地 的 缓冲区 中 就 可以 开始 播放 ， 后面 收到 的 数据 会 源源不断 输入 到 该 缓冲区 ， 从而 维持 播放 的 连续性 ， 因此 流 媒体播放器 通常 只是 在 开始 时有 一些 时延 。 流媒体 系统 要 比 下载 播放 系统 复杂 得 多 ， 所以 需要 将 多媒体 的 编解码 和 传输技术 很 好 地 结合 在 一起 ， 才能 确保 用户 在 复杂 的 网络 环境 下 也 能 得到 较 稳定 的 播放 质量 。
多媒体 数据 在 传输 前 必须 要 先 经过 编码器 有效 地 压缩成 码流 ， 以 减少 对 网络资源 的 占用率 。 目前 常用 的 视频 编码器 有 MPEG - 2 、 MPEG - 4 、 H.261 、 H.263 、 H.264 、 Window   Media 视频 编码器 和 Real   System 视频 编码器 等 ； 编码器 有 MP3 、 MPEG   AAC 、 Window   Media   音频 编码器 和 AMR 等 ； 图像 编码器 有 JPEG 和 JPEG2000 等 。 多媒体 编码器 所 生成 的 码流 只 包含 了 解码 该码 流所 必需 的 信息 ， 它 不 包含 媒体 间 的 同步 、 随机 访问 等 系统 信息 ， 因此 编码 后 的 多媒体 数据 还要 被 组织 成为 具有 特定 系统 格式 的 多媒体 文件 用于 流媒体 传输 或者 是 存入 磁盘 中 ， 目前 常用 的 文件格式 有 MPEG - 2 系统 ， MP4 ， 微软公司 的 ASF ， Real 的 文件格式 ， QuickTime 的 文件格式 以及 用于 3G 无线 服务 的 3GPP 和 3GPP2 等等 。
当 流媒体 在 实时 应用 中 （ 如 现场 流媒体 广播 ） ， 根据 当前 的 网络 状况 和 用户 的 终端 参数 ， 多媒体 数据 是 一边 被 编码 一边 被 流媒体 服务器 传输 给 用户 。 而 在 其他 的 非 实时 应用 中 ， 多媒体 数据 可以 被 事先 编码 生成 多媒体 文件 ， 存储 在 磁盘阵列 中 。 当 提供 多媒体 服务 时 ， 流媒体 服务器 直接 读取 这些 文件传输 给 用户 ， 这样 服务 方式 对 设备 的 要求 较 低 。 目前 许多 流媒体 服务 属于 后 一种 方式 ， 这样 就 要求 流媒体 服务器 具有 一定 的 机制 来 适应 网络 状况 和 用户 设备 。
目前 码流 自 适应 这一 模块 主要 采用 的 方法 有 ： 将 多媒体 文件 中 的 视频 码流 转换 为 一个 特定 码率 和 图像 尺寸 的 码流 ； 或者 把 同 一段 视频 内容 编码 生成 多个 具有 不同 码率 和 图像 尺寸 的 码流 ， 然后 自 适应 选择 一个 最合适 的 码 流传 输给 用户 。 生成 的 码流 还 需要 进一步 打包 成为 特定 网络 传输 协议 的 数据包 用于 网络 传输 ， 由于 现在 许多 网络 并 不能 保证 传输 的 数据 能够 及时 并 完全正确 地被 用户 收到 ， 传输 的 数据包 可能 需要 加前 向 纠错 编码 （ FEC ） 来 保护 ， 经过 这些 处理 后 多媒体 数据 就 可以 通过 网络 传输 给 用户 ， 目前 常用 的 传输 协议 有 RTP / RTCP 、 HTTP 和 MMS 。
用户 收到 传输 的 数据 后 ， 如果 存在 丢包 或者 是 比特 出错 ， 错误 恢复 处理 会 根据 附加 的 纠错 数据 来 恢复 传输 错误 。 如果 还 不能 恢复 传输 错误 ， 用户端 可以 向 服务器 发出 重传 请求 ， 在 解码 开始 前 重新 传输 丢失 的 包 。 恢复 后 的 多媒体 数据 将 由 解码器 解码 得到 重构 的 多媒体 数据 ， 由于 容错 保护 和 数据 重传 可能 不能 恢复 所有 的 错误 数据 ， 错误 掩藏 模块 可以 利用 重构 的 多媒体 数据 的 相关性 来 掩盖 这些 错误 ， 最后 这些 数据 就 播放 给 用户 。
通常 流媒体 系统 中 的 服务器 和 用户 间 并 不是 单向 通信 ， 如 前面 提到 的 重传 请求 。 事实上 ， 用户端 会 传递 给 服务器 许多 反馈 信息 ， 如 终端设备 的 能力 和 网络连接 速度 会 传给 服务器 的 码流 自 适应 模块 来 调整 码流 ， 在 实时 应用 中 这些 信息 还 可能 传给 编码器 ； 用户 端的 丢 包率 、 数据包 收到 的 时间 信息 和 用户 缓冲区 状态 等 信息 也 会 传递 给 服务器 来 估计 当前 的 网络 状况 ， 从而 控制 码流 的 自 适应 和 数据 的 发送 策略 。 从 上面 的 描述 来看 ， 实际上 流媒体 系统 在 多媒体 信息处理 中是 一个 非常复杂 的 系统 ， 目前 市面上 主要 的 产品 有 微软公司 的 Windows   Media ，   Real 公司 的 Real   System 和 苹果公司 的 QuickTime ， 其中 Windows   Media 系统 的 市场占有率 最大 。



二 、 流媒体 的 关键技术

实现 流媒体 的 关键技术 是 流式 传输 。 流式 传输 的 定义 很 广泛 ， 主要 是 指 通过 网络 传送 媒体 （ 如 视频 、 音频 ） 的 技术 总称 。
流式 传输 分为 顺序 流式 传输 和 实时 流式 传输 ：
顺序 流式 传输 采用 顺序 下载方式 ， 在 下载 文件 的 同时 用户 可 观看 在线 节目 ， 在 给定 时刻 ， 用户 只能 观看 已 下载 的 那 部分 ， 而 不能 跳到 还 未 下载 的 部分 ， 这种 方式 不像 实时 流式 传输 那样 ， 可以 在 传输 期间 根据 用户 连接 的 速度 进行 调整 。 顺序 流式 传输 不 适合 长 片段 和 有 随机 访问 要求 的 视频 节目 ， 如 讲座 、 演说 和 演示 等 ， 它 也 不 支持 现场 广播 。 严格 地说 ， 它 是 一种 点播 技术 。
实时 流式 传输 可 保证 媒体 信号 带宽 与 网络连接 匹配 ， 可 实时 观看节目 。 实时 流 与 HTTP 流式 传输 不同 ， 它 需要 专用 的 流媒体 服务器 与 传输 协议 。 实时 流式 传输 总是 实时 传送 ， 特别 适合 现场 事件 ， 也 支持 随机 访问 ， 用户 可 对 观看 内容 进行 快进 或 后退 。 理论 上 ， 实时 流 一经 播放 就 不可 停止 ， 但 可 进行 周期 暂停 。
流式 传输 模式 一般 会 使用 RTP / UDP 、 RTSP / TCP 两种 通信协议 与 A / V （ Audio / Video ） Server 建立联系 ， 将 服务器 的 输出 重定向 到 一个 运行 A / V   Player 程序 所在 客户机 的 目的 地址 。 如图 1 所示 ， 流式 传输 系统 一般 都 要 配置 一套 专用 的 服务器 和 播放器 。

图 1   流式 传输 基本原理

移动 流媒体 的 传输 协议 ：

图 2   流媒体 传输 协议

1 、 实时 传输 协议 RTP 、 RTCP
RTP （ Real - time   Transport   Protocol ） 是 在 Internet 上 针对 多媒体 数据流 的 一种 传输 协议 ， 工作 于 一对一 或 一对 多 的 传输 情况 ， 可 提供 时间 信息 和 实现 流 同步 。 RTP 通常 使用 UDP 来 传送数据 ， 也 可 在 TCP 或 ATM 协议 之上 工作 。 当 应用程序 开始 一个 RTP 会话 时 ， 会 使用 到 两个 端口 ， 一个 给 RTP ， 一个 给 RTCP 。 RTP 本身 并 不能 为 按 顺序 传送 数据包 提供 可靠 的 传送 机制 ， 也 不 提供 流量 控制 或 拥塞 控制 ， 而是 依靠 RTCP 提供 这些 服务 。 通常 RTP 算法 并 不 作为 一个 独立 的 网络层 来 实现 ， 而是 作为 应用 程序代码 的 一部分 。
RTCP （ Real - time   Transport   Control   Protocol ） 与 RTP 共同 提供 流量 控制 和 拥塞 控制 服务 。 在 RTP 会话 期间 ， 参与者 周期性地 传送 RTCP 包 ， 这些 包中 含有 已 发送 数据包 的 数量 、 丢失 数据包 的 数量 等 统计数据 ， 服务器 可 根据 这些 信息 动态 地 改变 传输速率 ， 甚至 改变 有效载荷 类型 。 RTP 与 RTCP 的 配合 使用 可 有效 地 进行 反馈 ， 从而 减小 开销 ， 提高 传输 效率 ， 非常适合 传送 网上 的 实时 数据 。

2 、 实时 流 协议 RTSP
实时 流 协议 RTSP （ Real - time   Streaming   Protocol ） 是 由 RealNetworks 、 Netscape 共同 提出 的 一种 协议 ， 它 定义 了 如何 使 一对 多 应用程序 有效 地 通过 IP 网络 传送 多媒体 数据 。 RTSP 在 体系结构 上 位于 RTP 、 RTCP 之上 ， 它 使用 TCP 或 RTP 完成 数据传输 。 与 HTTP 相比 ， RTP 传送 的 是 多媒体 数据 ， 而 HTTP 传送 HTML 。 在 使用 RTSP 时 ， 客户机 和 服务器 均 可 发出请求 ， 也就是说 RTSP 可 双向 服务 ， 而 HTTP 的 请求 是 由 客户机 发出 ， 服务器进行 响应 。

3 、 资源 预订 协议 RSVP
音视频 数据流 对 网络 的 延时 比 数据业务 更 敏感 ， 如何 在 网络 中 传输 高质量 的 音视频 信息 ， 除了 带宽 要求 之外 ， 还 需 其它 条件 。 RSVP （ Resource   Reservation   Protocol ） 是 一种 正在 开发 的 Internet 资源 预订 协议 ， 它 通过 采取 预留 一部分 网络资源 （ 带宽 ） 的 措施 ， 在 一定 程度 上 为 流媒体 传输 提供 QoS 。 某些 试验性 系统 ， 如 网络 视频会议 工具 vic 就 集成 了 RSVP 。
3GPP   UMTS 视频 媒体 编解码 技术规范 是 ITU - T   H.263   profile   0   level   10 ， 也 是 PSS 必须 使用 的 视频 解码器 。 此外 ， PSS 还 应该 支持 H.263   Profile   3   Level   10 解码器 和 MPEG - 4   Visual   Simple   Profile   Level   0 解码器 ， 在 实际 应用 中 ， 两个 视频 解码器 可 选 。 最近 提出 的 H.264 标准 也 引起 了 业界 的 广泛 兴趣 ， 3GPP   PSS   R6 也 在 积极 考虑 将 其 纳入 规范 。

移动 流 媒体播放器 ：
移动 流媒体 传输 视频 数据 都 采用 H264 视频 压缩算法 进行 压缩 ， 以 适宜 无线 传输 的 低 带宽 编码   ( 15 - 25   kpbs )   可以 传输 更好 质量 的 图像 ， 或者 用 更 少 的 带宽 传输 相同 质量 的 视频 。 至于 移动 终端 的 流媒体 视频 播放器 ， 有 这些 技术 的 大 厂家 ， 如 微软 ，   REAL   ， 出于 市场 的 原因 ， 仅 开发 在 特别 视频 手机 上 的 应用 ， 所以 对于 应用 开发商 来说 ， 需要 将 视频 播放器 在 各个 移动 终端 上面 做 相应 的 移植 工作 。 主要 平台 有 ：

Pocket   PC 平台
Dopod   686 / 696
Lenovo   ET180 / 560
Daxian   CU928 / Eten   P300B
Symbian 平台
Nokia   7650 / 6600 / 3650 / 7610 / Nokia6260 / 6630 / 7610 / 6620 / 3620 / 3660 / 3600 / 3650 / N - Gage /
索爱   P802 / P908
Simens   sx1 / Sendo   x
Panasonic   X700 /
Samsung   SGH - D710
Linux 平台
Motorola   A760
Smartphone 平台
Dopod515 / 535
Moto8380 / 8390

三 、 移动 流媒体 的 主要 应用
（ 1 ） 信息 服务
包括 财经 信息 、 新闻 和 即时 体育 播报 、 天气 信息 等 服务 。 用户 只须 通过 简单 的 接入 门户 站点 即可 获取 大量 信息 ， 也 可以 通过 订阅 的 方式 使用 信息 推送 服务 。 信息 的 内容 可以 以 流媒体 的 方式 提供 。
（ 2 ） 娱乐 服务
包括 卡通 、 音频 、 视频 以及 电视节目 的 精彩 片段 下载 播放 和 在线播放 。 还 可以 提供 移动游戏 、 用 手机 看电视 等 服务 。
（ 3 ） 通信 服务
包括 含有 流媒体 内容 的 彩信 、 视频 电话 ／ 会议 等 ， 使 人们 的 沟通 更加 方便 ， 更为 丰富多彩 。
（ 4 ） 监控 服务
主要 包括 交通 监控 和 家庭 监控 。 交通 监控 使 交通部门 能够 实时 察看 高速公路 和 主要 道路 的 交通状况 ， 可 查看 指定 道路 区间 的 路况 ， 并 可 在 途中 通过 定位 服务 来 检查 各路 段 的 交通 情况 。 家庭 监控 可以 实时 监视 家庭 和 办公室 的 情况 。 只 需 安装 基于 Web 的 数字视频 相机 ， 并 连接 到 Internet 上 就 可以 通过 移动 终端 或 PC 监视 家庭 或 办公室 。
（ 5 ） 定位 服务
可用 来 提供 地图 和 向导 服务 ， 并且 可以 预览 风景名胜 、 预定 饭店 和 电影票 等 。 未来 几年 ， 移动 流媒体 业务 将 得到 很大 的 发展 ， 将会 随着 网络 和 终端 的 不断 发展 而 逐步 实现 。

四 、 移动 流媒体 的 发展 与 限制

移动 流媒体 业务 的 开展 给 移动 增值 服务 带来 了 新 的 希望 ， 2.5 G 、 3G 以及 超 3G 无线网络 的 发展 也 使得 流媒体 技术 可以 被 用到 无线 终端设备 上 ， 目前 中国联通公司 提供 CDMA   1x ， 用户 网络带宽 最 多 可以 达到 100kbit / s ， 这 已经 足够 提供 QCIF 大小 的 流媒体 服务 ； 而且 随着 3G 无线网络 的 应用 ， 用户 的 网络带宽 可以 达到 384kbit / s 。 另一方面 ， 手机 设备 运算 能力 越来越 强 ， 存储空间 越来越 大 ， 不用说 SMART   Phone 和 Pocket   PC 等 高端 手机 ， 就是 一般 的 中档 手机 ， 如 Nokia   6610 ， 也 能 实现 基本 的 H.264 的 软件 解码 。
面向 无线网络 的 流媒体 应用 对 当前 的 编码 和 传输技术 提出 了 更 大 的 挑战 ， 首先 ， 相对 于 有线 网络 而言 ， 无线网络 状况 更 不 稳定 ， 除去 网络流量 所 造成 的 传输速率 的 波动 外 ， 手持 设备 的 移动 速度 和 所在位置 也 会 严重 地 影响 到 传输速率 ， 因此 高效 的 可 自 适应 的 编码 技术 至关重要 。 其次 ， 无线 信道 的 环境 也 要 比 有线 信道 恶劣 的 多 ， 数据 的 误码率 也 要 高 许多 ， 而 高压缩 的 码流 对 传输 错误 非常 敏感 ， 还会 造成 错误 向 后面 的 图像 扩散 ， 因此 无线 流媒体 在 信源 和 信道编码 上 需要 很 好 的 容错 技术 。 在 移动 流媒体 业务 的 发展 过程 中 ， 存在 如下 问题 ：
（ 1 ）   无线 网络带宽 窄 ， 干扰 严重
CDMA1X 与 GPRS 分别 作为 当前 中国联通 与 中国移动 的 主流 2.5 G 无线网络 技术 ， 网络 传输 带宽 较之 以前 有 了 很大 的 提高 , 但 仍然 十分 有限 。 CDMA1X 在 理论 峰值 情况 下 下载 传输速率 达到 144kbps ， 但 实际 情况 下 ， 稳定 的 传输速率 通常 在 70kbps 左右 。 GRPS 在 理论 上 可以 达到 115kbps ， 但 实际 情况 下 ， 稳定 的 传输速率 通常 在 20kbps 左右 。 并且 随着 使用 用户 的 增加 ， 网络 的 性能 将会 进一步 下降 。 另外 无线网络 的 干扰 严重 ， 导致 网络 传输 的 误码 的 可能性 大大增加 。
（ 2 ）   移动 终端 处理 能力 低 ， 内存容量 小
虽然 目前 国内 市场 上 基于 ARM9 或是 与 此 同等 能力 的 芯片 的 高端 手机 已经 越来越 多 ， 但 由于 手机 中低端 用户 基数 庞大 而 带来 的 巨大 的 市场 商机 ， 使得 各个 终端 厂家 对 中低端 用户 尤为 重视 。 因此 目前 占 市场份额 最多 的 、 主流 的 手机 仍然 采用 的 是 ARM7 系列 的 芯片 ， 处理 能力 在 几十个 MIPS 左右 。
目前 移动 终端 的 内存容量 通常 也 比较 有限 。 市场 上 主流 的 BREW 手机 预留 给 应用程序 的 动态内存 通常 在 700KB 左右 ； 基于 J2ME 的 手机 预留 给 应用程序 的 动态分配 的 内存 通常 在 64KB 或 128KB ； 基于 Symbian / Linux / Windows   Mobile 等 高端 手机 预留 给 应用程序 的 动态分配 的 内 存在 1 - 4MB 左右 。
（ 3 ）   终端 系统 平台 、 LCD 多样化
相对 于 PC 的 平台 而言 ， 移动 终端 的 系统 平台 多样化 更加 明显 ， 常见 的 系统 平台 有 Symbian 、 Linux 、 Windows   Mobile 、 Palm   OS 以及 一些 私有 平台 。 移动 终端 系统 多样化 在 很长 的 一段时间 内 将 会 继续 存在 。 为了 提供 一个 统一 的 手机 应用 程序运行 环境 ， J2ME 与 BREW 应运而生 。 但 不同 的 厂家 对 J2ME 与 BREW 的 支持 通常 都 存在 差异 。 平台 的 多样化 加上 LCD 大小不一 ， 使得 实现 适应 多种 移动 终端 的 应用程序 难度 非常 大 。
（ 4 ）   移动 终端 的 电池 能源 有限
尽管 手机 设备 的 运算 能力 越来越 强 ， 但是 由于 它 是 由 电池 供电 的 ， 因此 编解码 处理 不能 太 复杂 ， 并且 最好 能够 根据 用户 设备 的 电池 来 调整 流媒体 的 接收 和 处理 ， 能源管理 技术 也 是 移动 流媒体 的 一个 研究 热点 。




